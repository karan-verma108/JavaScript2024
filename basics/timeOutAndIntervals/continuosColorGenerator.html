<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Continuos color generator</title>
  </head>
  <body>
    <h1>
      Use the buttons below to generate and stop random colors for this page
    </h1>

    <button id="startButton" type="button">Start</button>
    <button id="stopButton" type="button">Stop</button>
  </body>

  <script>
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');

    const hexCodeArr = [
      'A',
      'B',
      'C',
      'D',
      'E',
      'F',
      0,
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9,
    ];

    let colorInterval;

    const generateRandomColors = () => {
      //using hexcode
      let randomHexCodeColor = '#';
      for (let i = 0; i < 6; i++) {
        randomHexCodeColor +=
          hexCodeArr[Math.round(Math.random() * hexCodeArr.length)];
      }

      //using rgb colors
      const red = Math.round(Math.random() * 255) + 1;
      const green = Math.round(Math.random() * 100) + 1;
      const blue = Math.round(Math.random() * 150) + 1;
      const randomRGBColor = `rgb(${red},${green},${blue})`;
      document.body.style.backgroundColor = randomRGBColor; //using rgb
      // document.body.style.backgroundColor = randomHexCodeColor; //using hex code color
      console.log('rgb', randomRGBColor);
      console.log('hex code', randomHexCodeColor);
    };

    const startChangingColor = () => {
      if (!colorInterval) {
        //setting the background color of body only when the color interval reference is null/empty, (this is important as to not store more than one interval Id for the same interval reference)
        colorInterval = setInterval(generateRandomColors, 1000);
      }
    };

    const stopChangingColor = () => {
      clearInterval(colorInterval);
      colorInterval = null; //clearing the color interval reference (here we are setting the color interval reference/id to null)
    };

    startButton.addEventListener('click', startChangingColor);
    stopButton.addEventListener('click', stopChangingColor);
  </script>
</html>
